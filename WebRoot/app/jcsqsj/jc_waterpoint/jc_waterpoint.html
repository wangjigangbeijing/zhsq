

<script src="./jcsqsj/jc_waterpoint/jc_waterpoint.js"></script>

<section class="content">
	<div class="container-fluid">
        <div class="row">
          <div class="col-12">
			
			<div class="card" style="margin-bottom:0px;">
			 

	 
          <div class="card-body">
                
				<form class="form-horizontal">

    			<input type='hidden' class='form-control' id='searchtype' value="1">
			
			<div class="form-group row" id="firstshow">

                    						<label class='col-md-1 control-label' style='text-align:right;'>积水点名称</label>
<div class='col-sm-2'>
 					<input type='text' class='form-control' id='nameQuery'>
</div>

<button id="btnSearch1" class="btn btn-success">查询</button>&nbsp;
								
<button id="btnAdd1" class="btn btn-info" onclick="return false;" style="margin-right:20px;"><i class="fa fa-plus"></i> 增加</button>

<button id="btnQuery" type="button" class="btn  pull-right" style="position:absolute; right:10px;" onclick="forkme()"><image src="../images/query.png"/></button>

</div>

<div class="form-group row" id="card-body" style="display:none;">

				
<label class='col-md-1 control-label' style='text-align:right;'>积水点名称</label>
<div class='col-sm-2'>
 					<input type='text' class='form-control' id='nameQuery2'>
</div>

						<label class='col-md-1 control-label' style='text-align:right;'>位置描述</label>
<div class='col-sm-2'>
 					<input type='text' class='form-control' id='addressQuery'>
</div>
						<label class='col-md-1 control-label' style='text-align:right;'>类别</label>
<div class='col-sm-2'>
 					<!--input type='text' class='form-control' id='typeQuery'-->
					
					<select class='form-control field' name='typeQuery' id='typeQuery'>
 						<option value='小区内'>小区内</option>
 						<option value='道路'>道路</option>
 						<option value='其他'>其他</option>
						</select>					
</div>

					
					
			<button id="btnSearch2" class="btn btn-success">查询</button>&nbsp;
								
			<button id="btnAdd2" class="btn btn-info pull-right" onclick="return false;" style="margin-right:20px;"><i class="fa fa-plus"></i> 增加</button>

			<button id="btnQuery" type="button" class="btn  pull-right" style="position:absolute; right: 15px; bottom: 20px;" onclick="forkme()"><image src="../images/query.png"/></button>

			</div>


			</form>

			</div>

			

			</div>
			
            <div class="card">
              <div class="card-body">
                <table class="table table-bordered table-striped" id="dataTable">
                  <thead>
                  <tr>
                    <!--th style='text-align:center;'>数据编码</th-->
<th style='text-align:center;'>积水点名称</th>
<th style='text-align:center;'>位置描述</th>
<th style='text-align:center;'>类别</th>
<th style='text-align:center;'>积水深度</th>
<th style='text-align:center;'>防汛方案</th>
<th style='text-align:center;'>备注</th>
<th style='text-align:center;'>操作</th>
                  </tr>
                  </thead>
				  <tbody></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
</section>	  


<script>

var uploader = WebUploader.create({
	auto: true,
// swf文件路径
//swf: BASE_URL + '/js/Uploader.swf',
// 文件接收服务端
server: getContextPath()+'/fileController/upload',
// 选择文件的按钮。可选。
// 内部根据当前运行是创建，可能是input元素，也可能是flash.
pick: '#picturepick',
formData:{
attributeName:'picture'
}
});
uploader.on( 'fileQueued', function( file ) {
	$('#'+file.source._refer[0].id+'table').append('<tr><td>'+file.name+'</td><td id='+file.id+'>等待上传...</td>'+
						"<td><button type='button' class='btn btn-success btn-xs' onclick='javascript:downloadAttach();return false;'><i class='fa fa-check'></i></button></td>"+
						'</tr>');
});
uploader.on( 'uploadSuccess', function( file,response ) {
	$( '#'+response.attributeName ).val(response.fileName+VALUE_SPLITTER+$('#'+response.attributeName ).val());
	console.log($( '#'+response.attributeName ).val());
	$( '#'+file.id ).text('已上传');
});
uploader.on( 'uploadError', function( file,response ) {
});	
var uploader = WebUploader.create({
	auto: true,
// swf文件路径
//swf: BASE_URL + '/js/Uploader.swf',
// 文件接收服务端
server: getContextPath()+'/fileController/upload',
// 选择文件的按钮。可选。
// 内部根据当前运行是创建，可能是input元素，也可能是flash.
pick: '#filepick',
formData:{
attributeName:'file'
}
});
uploader.on( 'fileQueued', function( file ) {
	$('#'+file.source._refer[0].id+'table').append('<tr><td>'+file.name+'</td><td id='+file.id+'>等待上传...</td>'+
						"<td><button type='button' class='btn btn-success btn-xs' onclick='javascript:downloadAttach();return false;'><i class='fa fa-check'></i></button></td>"+
						'</tr>');
});
uploader.on( 'uploadSuccess', function( file,response ) {
	$( '#'+response.attributeName ).val(response.fileName+VALUE_SPLITTER+$('#'+response.attributeName ).val());
	console.log($( '#'+response.attributeName ).val());
	$( '#'+file.id ).text('已上传');
});
uploader.on( 'uploadError', function( file,response ) {
});	


</script>
