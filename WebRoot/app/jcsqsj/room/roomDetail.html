

<script src="./jcsqsj/room/roomDetail.js"></script>

<section class="content">
      <div class="container-fluid">
        <div class="row">
          <div class="col-12">
			 <div class="card">
              <div class="card card-info">
              <form class="form-horizontal">
                <div class="card-body">
                    
				<!--div class='form-group row'>
						<label class='col-md-2 control-label'>数据编码</label>
  				<div class='col-md-9'>
 					<input type='text' class='form-control' id='dataid'>
 						</div>
 					</div-->
					<div class='form-group row'>
						<label class='col-md-2 control-label'>房间号</label>
  				<div class='col-md-9'>
 					<input type='text' class='form-control' id='number'>
 						</div>
 					</div>
					<div class='form-group row'>
						<label class='col-md-2 control-label'>所属小区</label>
  				<div class='col-md-9'>
						<select class='form-control field' name='ofcommunity' id='ofcommunity'> 						
						</select>
 						</div>
 					</div>
					<div class='form-group row'>
						<label class='col-md-2 control-label'>所在楼宇</label>
						<div class='col-md-9'>
						<select class='form-control field' name='ofresidebuilding' id='ofresidebuilding'> 						
						</select>
 						</div>
 					</div>
					<div class='form-group row'>
						<label class='col-md-2 control-label'>所在单元</label>
  				<div class='col-md-9'>
						<select class='form-control field' name='ofunit' id='ofunit'> 						
						</select>
 						</div>
 					</div>
					<div class='form-group row'>
						<label class='col-md-2 control-label'>所在楼层</label>
  				<div class='col-md-9'>
 					<input type='text' class='form-control' id='level'>
 						</div>
 					</div>
					<div class='form-group row'>
						<label class='col-md-2 control-label'>房屋状态</label>
  				<div class='col-md-9'>
					<label class='radio-inline'>
						<input type='radio' name='status' value='出租'> 出租
						<input type='radio' name='status' value='自住'> 自住
						<input type='radio' name='status' value='待租'> 待租
						<input type='radio' name='status' value='空置'> 空置
						<input type='radio' name='status' value='其他'> 其他
					</label>
 						</div>
 					</div>
					<div class='form-group row'>
						<label class='col-md-2 control-label'>是否群租</label>
  				<div class='col-md-9'>
					<label class='radio-inline'>
						<input type='radio' name='isgrouporiented' value='是'> 是
						<input type='radio' name='isgrouporiented' value='否'> 否
					</label>
 						</div>
 					</div>
					<div class='form-group row'>
						<label class='col-md-2 control-label'>房主类型</label>
  				<div class='col-md-9'>
					<label class='radio-inline'>
						<input type='radio' name='ownertype' value='个人'> 个人
						<input type='radio' name='ownertype' value='国内单位'> 国内单位
						<input type='radio' name='ownertype' value='国外单位'> 国外单位
					</label>
 						</div>
 					</div>
					<div class='form-group row'>
						<label class='col-md-2 control-label'>产权证类型</label>
  				<div class='col-md-9'>
						<select class='form-control field' name='propertypapertype' id='propertypapertype'>
 						<option value='房地产权利证书'>房地产权利证书</option>
						<option value='建筑许可证'>建筑许可证</option>
						<option value='红线图'>红线图</option>
						<option value='建筑规划许可证'>建筑规划许可证</option>
						<option value='其他'>其他</option>
						</select>
 						</div>
 					</div>
					<div class='form-group row'>
						<label class='col-md-2 control-label'>产权证编号</label>
  				<div class='col-md-9'>
 					<input type='text' class='form-control' id='propertypaperid'>
 						</div>
 					</div>
					<div class='form-group row'>
						<label class='col-md-2 control-label'>房屋详细地址</label>
  				<div class='col-md-9'>
 					<input type='text' class='form-control' id='address'>
 						</div>
 					</div>
					<div class='form-group row'>
						<label class='col-md-2 control-label'>房产图</label>
  				<div class='col-md-9'>
<div id='propertymapdiv' class='wu-example'>
<input type='text' class='form-control field' name='propertymap' id='propertymap' style='display:none;'>
<table class='table' id='propertymappicktable'><thead><tr><th>名称</th><th>状态</th><th>操作</th></tr></thead><tbody></tbody></table>
<div class='btns'>
<div id='propertymappick'>选择文件</div>
</div>
</div>
 						</div>
 					</div>
					<div class='form-group row'>
						<label class='col-md-2 control-label'>备注</label>
  				<div class='col-md-9'>
					<textarea class='form-control ckeditor field' name='note' id='note' rows='6'></textarea>
 						</div>
 					</div>

					
                </div>
                <div class="card-footer">
				
				 <button class="btn btn-info" type="button" onclick="addOrUpdate();">确定</button>
                  <button class="btn btn-default float-right" type="button" onclick="gobackPage();">取消</button>
				  
                </div>
              </form>
            </div>
			  
          </div>
        </div>
      </div>
      </div>
    </section>
	
	
<script>

var uploaderpropertymap = WebUploader.create({
	auto: true,
// swf文件路径
//swf: BASE_URL + '/js/Uploader.swf',
// 文件接收服务端
server: getContextPath()+'/fileController/upload',
// 选择文件的按钮。可选。
// 内部根据当前运行是创建，可能是input元素，也可能是flash.
pick: '#propertymappick',
formData:{
attributeName:'propertymap'
}
});
uploaderpropertymap.on( 'fileQueued', function( file ) {
	$('#'+file.source._refer[0].id+'table').append('<tr><td>'+file.name+'</td><td id='+file.id+'>等待上传...</td>'+
						"<td><button type='button' id='"+file.id+"Button' class='btn btn-success btn-xs' onclick='javascript:downloadAttach();return false;'><i class='fa fa-check'></i></button></td>"+
						'</tr>');
});
uploaderpropertymap.on( 'uploadSuccess', function( file,response ) {
	$( '#'+response.attributeName ).val(response.fileName+VALUE_SPLITTER+$('#'+response.attributeName ).val());
	console.log($( '#'+response.attributeName ).val());
	$( '#'+file.id ).text('已上传');
	$('#'+file.id+'Button').attr('onclick', onclick='javascript:downloadAttach("'+response.fileName+'");return false;');
});
uploaderpropertymap.on( 'uploadError', function( file,response ) {
});	


</script>
