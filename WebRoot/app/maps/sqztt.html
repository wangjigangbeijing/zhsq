
<!--script src="../plugins/ol5/ol.js">

<script type="text/javascript" src="./maps/include-web.js"></script>
<script type="text/javascript" src="../plugins/iclient/ol/include-ol.js"></script-->

	
	
	

    <!-- Content Header (Page header) -->
    <section class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1>社区专题图</h1>
          </div>
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item active">ChartJS</li>
            </ol>
          </div>
        </div>
      </div><!-- /.container-fluid -->
    </section>

    <!-- Main content -->
        <section class="content">
      <div class="container-fluid">
        <!-- Info boxes -->
        <div class="row">
          <div class="col-12 col-sm-3 col-md-2">
            <div class="info-box">
              <span class="info-box-icon bg-success elevation-1"><i class="fas fa-flag"></i></span>

              <div class="info-box-content">                
				<span class="info-box-text"><a href="#" id="xfdjtAnchor">先锋党建图</a></span>
              </div>
              <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
          </div>

          <div class="col-12 col-sm-3 col-md-2">
            <div class="info-box">
              <span class="info-box-icon bg-info elevation-1"><i class="fas fa-shopping-cart"></i></span>

              <div class="info-box-content">
				<span class="info-box-text"><a href="#" id="sqfftAnchor">社区服务图</a></span>
              </div>
              <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
          </div>
          <!-- /.col -->
          <div class="col-12 col-sm-6 col-md-2">
            <div class="info-box mb-3">
              <span class="info-box-icon bg-danger elevation-1"><i class="fas fa-plus-square"></i></span>

              <div class="info-box-content">
				<span class="info-box-text"><a href="#" id="pajstAnchor">平安建设图</a></span>
              </div>
              <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
          </div>
          <!-- /.col -->

          <!-- fix for small devices only -->
          <div class="clearfix hidden-md-up"></div>

          <div class="col-12 col-sm-6 col-md-2">
            <div class="info-box mb-3">
              <span class="info-box-icon bg-success elevation-1"><i class="fas fa-compass"></i></span>

              <div class="info-box-content">
				<span class="info-box-text"><a href="#" id="wjtytAnchor">文教体育图</a></span>
              </div>
              <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
          </div>

          <div class="col-12 col-sm-6 col-md-2">
            <div class="info-box mb-3">
              <span class="info-box-icon bg-success elevation-1"><i class="fas fa-trash"></i></span>

              <div class="info-box-content">
				<span class="info-box-text"><a href="#" id="hjwstAnchor">环境卫生图</a></span>
              </div>
              <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
          </div>

          <!-- /.col -->
          <div class="col-12 col-sm-6 col-md-2">
            <div class="info-box mb-3">
              <span class="info-box-icon bg-warning elevation-1"><i class="fas fa-exclamation-triangle"></i></span>

              <div class="info-box-content">
				<span class="info-box-text"><a href="#" id="fzbxtAnchor">防灾避险图</a></span>
              </div>
              <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
          </div>

          <!-- /.col -->
        </div>

        <div class="row">
          <div class="col-12 col-sm-3 col-md-2">
            <div class="info-box">
              <span class="info-box-icon bg-success elevation-1"><i class="fas fa-user"></i></span>

              <div class="info-box-content">
				<span class="info-box-text"><a href="#" id="zdryAnchor">重点人员图</a></span>
              </div>
              <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
          </div>

          <div class="col-12 col-sm-3 col-md-2">
            <div class="info-box">
              <span class="info-box-icon bg-info elevation-1"><i class="fas fa-circle"></i></span>

              <div class="info-box-content">
				<span class="info-box-text"><a href="#" id="hzhztAnchor">河长湖长图</a></span>
              </div>
              <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
          </div>
          <!-- /.col -->
          <div class="col-12 col-sm-6 col-md-2">
            <div class="info-box mb-3">
              <span class="info-box-icon bg-danger elevation-1"><i class="fas fa-road"></i></span>

              <div class="info-box-content">
				<span class="info-box-text"><a href="#" id="jzxztAnchor">街长巷长图</a></span>
              </div>
              <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
          </div>
          <!-- /.col -->

          <!-- fix for small devices only -->
          <div class="clearfix hidden-md-up"></div>

          <div class="col-12 col-sm-6 col-md-2">
            <div class="info-box mb-3">
              <span class="info-box-icon bg-success elevation-1"><i class="fas fa-envelope"></i></span>

              <div class="info-box-content">
				<span class="info-box-text"><a href="#" id="xczdtAnchor">宣传阵地图</a></span>
                <span class="info-box-text"></span>
                <span class="info-box-number"></span>
              </div>
              <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
          </div>

    

          <!-- /.col -->
          <div class="col-12 col-sm-6 col-md-2">
            <div class="info-box mb-3">
              <span class="info-box-icon bg-warning elevation-1"><i class="fas fa-map-signs"></i></span>

              <div class="info-box-content">
				<span class="info-box-text"><a href="#" id="csgltAnchor">城市管理图</a></span>
              </div>
              <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
          </div>

          <!-- /.col -->
        </div>
        <!-- /.row -->
      </div><!--/. container-fluid -->
    </section>
	
	
	  <section class="content">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-12">
            <!-- AREA CHART -->
            <div class="card card-primary">
              <div class="card-header">
                <h3 class="card-title" id="mapTitle">先锋党建图</h3>

                <div class="card-tools">
                  <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>
                </div>
              </div>
         	 <div class="card-body" id="sqmqtDiv" style="height:700px;">
              </div>
              <!-- /.card-body -->
            </div>
            <!-- /.card -->

  

          </div>
     
          <!-- /.col (RIGHT) -->
        </div>
        <!-- /.row -->
      </div><!-- /.container-fluid -->
    </section>

<!-- ChartJS>
<script src="./plugins/chart.js/Chart.min.js"></script -->



<!-- page script -->
<script>
  $(function () {
  
	
	var sqmqt = new ol.Map({
        target: 'sqmqtDiv',
        //controls: ol.control.defaults({attributionOptions: {collapsed: false}})
        //    .extend([new ol.supermap.control.Logo()]),
        view: new ol.View({
            center: [12965554.49 , 4903893.99],
            zoom: 12,
            //projection: 'EPSG:4326',
			projection: 'EPSG:3857',
            multiWorld: true
        })/*,
        overlays: [overlay]*/
    });
    
	var pajst = new ol.Map({
        target: 'pajstDiv',
        view: new ol.View({
            center: [12965554.49 , 4903893.99],
            zoom: 12,
			projection: 'EPSG:3857',
            multiWorld: true
        })
    });
	/*
	var wjtyt = new ol.Map({
        target: 'wjtytDiv',
        view: new ol.View({
            center: [12965554.49 , 4903893.99],
            zoom: 12,
			projection: 'EPSG:3857',
            multiWorld: true
        })
    });
	
	var xfdjt = new ol.Map({
        target: 'xfdjtDiv',
        view: new ol.View({
            center: [12965554.49 , 4903893.99],
            zoom: 12,
			projection: 'EPSG:3857',
            multiWorld: true
        })
    });

	var sqfwt = new ol.Map({
        target: 'sqfwtDiv',
        view: new ol.View({
            center: [12965554.49 , 4903893.99],
            zoom: 12,
			projection: 'EPSG:3857',
            multiWorld: true
        })
    });

	var hjwst = new ol.Map({
        target: 'hjwstDiv',
        view: new ol.View({
            center: [12965554.49 , 4903893.99],
            zoom: 12,
			projection: 'EPSG:3857',
            multiWorld: true
        })
    });

	*/



	/*var layer = new ol.layer.Tile({
        source: new ol.source.TileSuperMapRest({
            url: "https://iserver.supermap.io/iserver/services/map-world/rest/maps/World"
        })
    });
    map.addLayer(layer);*/


	var sqmqtlayer = new ol.layer.Tile({
        source: new ol.source.TileSuperMapRest({
            url: "http://219.143.76.46:8089/iserver/services/map-agscache-fengtai/rest/maps/fengtai"
        })
    });
    sqmqt.addLayer(sqmqtlayer);
	
	var pajstlayer = new ol.layer.Tile({
        source: new ol.source.TileSuperMapRest({
            url: "http://219.143.76.46:8089/iserver/services/map-agscache-fengtai/rest/maps/fengtai"
        })
    });
	pajst.addLayer(pajstlayer);
	/*wjtyt.addLayer(layer);
	xfdjt.addLayer(layer);
	sqfwt.addLayer(layer);
	hjwst.addLayer(layer);
	*/
	//map.getView().fit(bounds, map.getSize());
	
	/*layer = new ol.layer.Image({
		source: new ol.source.ImageWMS({
		  ratio: 1,
		  url: 'http://219.143.76.46:8089/iserver/services/map-agscache-fengtai/rest/maps/fengtai',
		  params: {'FORMAT': 'image/png',
				   'VERSION': '1.1.1',  
				"STYLES": 'dt_green',
				"LAYERS": workspace+':'+baseLayerName,
				"exceptions": 'application/vnd.ogc.se_inimage',
		  }
		})
	  });

	map.addLayer(layer);*/
	/*
	map.on('singleclick', function(evt) 
	{
		var feature = map.forEachFeatureAtPixel(evt.pixel,
			function(feature) {
			
				return feature;
		});
			
		if(feature != null && feature != undefined)
		{
			var gid = feature.getId();
			
			curId = gid.substring(gid.indexOf('\.')+1);
			
			$.get(getContextPath()+"/dataController/getData?projectId="+curProjectId+"&layerId="+curLayerId+"&dataId="+curId,
			function(dataDetail)
			{										
				$('#imgList').empty();
				
				curData = jQuery.parseJSON(dataDetail);  
				
				for(var i=attributeList.length - 1;i>=0 ;i--)
				{
					$('#'+attributeList[i].enName).val(curData[attributeList[i].enName]);
					
					if(attributeList[i].componentsType == '下拉' || attributeList[i].componentsType == '数字' 
							|| attributeList[i].componentsType == '单行文本' || attributeList[i].componentsType == '多行文本')
					{
						if(curData[attributeList[i].enName] == null)
							$('#'+attributeList[i].enName).val('');
						else
							$('#'+attributeList[i].enName).val(curData[attributeList[i].enName]);
					}
					else if(attributeList[i].componentsType == '单选')
					{
						$("input[name='"+attributeList[i].enName+"'][value='"+curData[attributeList[i].enName]+"']").attr('checked','true');
					}
					else if(attributeList[i].componentsType == '多选')
					{
						var checkArr = curData[attributeList[i].enName].split(VALUE_SPLITTER);
						
						for(var j=0;j<checkArr.length;j++)
						{
							if(curData[attributeList[i].enName] == null)
								$("input[name='"+attributeList[i].enName+"'][value='"+checkArr[j]+"']").attr('checked','false');
							else
							{
								if(checkArr[j] != '')
								{
									$("input[name='"+attributeList[i].enName+"'][value='"+checkArr[j]+"']").attr('checked','true');
								}
							}
						}
					}
					else if(attributeList[i].componentsType == '图片' || attributeList[i].componentsType == '文件')
					{
						$('#'+attributeList[i].enName+'picktable').dataTable({searching:false,paging:false,info:false}).fnClearTable();
						
						if(curData[attributeList[i].enName] != null)
						{
							var fjArr = curData[attributeList[i].enName].split(VALUE_SPLITTER);
								
							for(var j=0;j<fjArr.length;j++)
							{
								if(fjArr[j] != '')
								{
									var fileName = fjArr[j].substring(fjArr[j].lastIndexOf('/')+1);
									
									$('#'+attributeList[i].enName+'picktable').dataTable({searching:false,paging:false,info:false}).fnAddData(
										[fileName,'已提交','<button type="button" class="btn btn-success btn-xs" onclick="javascript:downloadAttach(\''+fileName+'\');return false;"><i class="fa fa-check"></i></button><button type="button" class="btn btn-danger btn-xs" onclick="javascript:deleteAttach(\''+attributeList[i].enName+'picktable\',\''+fileName+'\');return false;"><i class="fa fa-trash-o"></i></button>']
									);		
									
									var fileURL = getContextPath()+"/fileController/imagePreview?projectId="+curProjectId+"&layerId="+curLayerId+"&fileName="+fileName;
									
									var file = '<li>                                                                               '+
											'	<figure>                                                                           '+
											'		  <img src="'+fileURL+'" alt="img06">                                    	   '+
											'		  <figcaption>                                                                 '+
											'			  <h3>'+fileName+'</h3>                                                    '+
											'		  </figcaption>                                                                '+
											'	  </figure>                                                                        '+
											' </li>                                                                                ';
									
									$('#imgList').append(file);
								}
							}	
						}
					}
				}
			});
		}
	});
	*/
	
	
  })
</script>
</body>
</html>
